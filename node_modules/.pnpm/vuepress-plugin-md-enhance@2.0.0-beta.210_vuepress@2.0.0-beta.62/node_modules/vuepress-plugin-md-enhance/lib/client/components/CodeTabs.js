import{useStorage as y}from"@vueuse/core";import{defineComponent as I,ref as m,shallowRef as g,onMounted as h,watch as S,h as u}from"vue";import"../styles/code-tabs.scss";const r=y("VUEPRESS_CODE_TAB_STORE",{});var k=I({name:"CodeTabs",props:{active:{type:Number,default:0},data:{type:Array,required:!0},id:{type:String,required:!0},tabId:{type:String,default:""}},slots:Object,setup(a,{slots:n}){const l=m(a.active),o=g([]),v=()=>{if(a.tabId){const{title:e,id:t=e}=a.data[l.value];r.value[a.tabId]=t}},s=(e=l.value)=>{l.value=e<o.value.length-1?e+1:0,o.value[l.value].focus()},c=(e=l.value)=>{l.value=e>0?e-1:o.value.length-1,o.value[l.value].focus()},b=(e,t)=>{if(e.key===" "||e.key==="Enter"?(e.preventDefault(),l.value=t):e.key==="ArrowRight"?(e.preventDefault(),s()):e.key==="ArrowLeft"&&(e.preventDefault(),c()),a.tabId){const{title:d,id:i=d}=a.data[l.value];r.value[a.tabId]=i}},f=()=>{if(a.tabId){const e=a.data.findIndex(({title:t,id:d=t})=>r.value[a.tabId]===d);if(e!==-1)return e}return a.active};return h(()=>{l.value=f(),S(()=>r.value[a.tabId],(e,t)=>{if(a.tabId&&e!==t){const d=a.data.findIndex(({title:i,id:p=i})=>p===e);d!==-1&&(l.value=d)}})}),()=>a.data.length?u("div",{class:"code-tabs"},[u("div",{class:"code-tabs-nav",role:"tablist"},a.data.map(({title:e},t)=>{const d=t===l.value;return u("button",{type:"button",ref:i=>{i&&(o.value[t]=i)},class:["code-tabs-nav-tab",{active:d}],role:"tab","aria-controls":`codetab-${a.id}-${t}`,"aria-selected":d,onClick:()=>{l.value=t,v()},onKeydown:i=>b(i,t)},e)})),a.data.map(({title:e,id:t=e},d)=>{const i=d===l.value;return u("div",{class:["code-tab",{active:i}],id:`codetab-${a.id}-${d}`,role:"tabpanel","aria-expanded":i},n[`tab${d}`]({title:e,value:t,isActive:i}))})]):null}});export{k as default};
//# sourceMappingURL=CodeTabs.js.map
