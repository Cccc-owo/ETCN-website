import{useStorage as m}from"@vueuse/core";import{defineComponent as y,ref as I,shallowRef as g,onMounted as h,watch as S,h as n}from"vue";import"../styles/tabs.scss";const d=m("VUEPRESS_TAB_STORE",{});var k=y({name:"Tabs",props:{active:{type:Number,default:0},data:{type:Array,required:!0},id:{type:String,required:!0},tabId:{type:String,default:""}},slots:Object,setup(a,{slots:o}){const l=I(a.active),u=g([]),v=()=>{if(a.tabId){const{title:t,id:e=t}=a.data[l.value];d.value[a.tabId]=e}},s=(t=l.value)=>{l.value=t<u.value.length-1?t+1:0,u.value[l.value].focus()},c=(t=l.value)=>{l.value=t>0?t-1:u.value.length-1,u.value[l.value].focus()},b=(t,e)=>{t.key===" "||t.key==="Enter"?(t.preventDefault(),l.value=e):t.key==="ArrowRight"?(t.preventDefault(),s()):t.key==="ArrowLeft"&&(t.preventDefault(),c()),v()},f=()=>{if(a.tabId){const t=a.data.findIndex(({title:e,id:i=e})=>d.value[a.tabId]===i);if(t!==-1)return t}return a.active};return h(()=>{l.value=f(),S(()=>d.value[a.tabId],(t,e)=>{if(a.tabId&&t!==e){const i=a.data.findIndex(({title:r,id:p=r})=>p===t);i!==-1&&(l.value=i)}})}),()=>a.data.length?n("div",{class:"tab-list"},[n("div",{class:"tab-list-nav",role:"tablist"},a.data.map(({title:t},e)=>{const i=e===l.value;return n("button",{type:"button",ref:r=>{r&&(u.value[e]=r)},class:["tab-list-nav-item",{active:i}],role:"tab","aria-controls":`tab-${a.id}-${e}`,"aria-selected":i,onClick:()=>{l.value=e,v()},onKeydown:r=>b(r,e)},t)})),a.data.map(({title:t,id:e=t},i)=>{const r=i===l.value;return n("div",{class:["tab-item",{active:r}],id:`tab-${a.id}-${i}`,role:"tabpanel","aria-expanded":r},o[`tab${i}`]({title:t,value:e,isActive:r}))})]):null}});export{k as default};
//# sourceMappingURL=Tabs.js.map
