import{align as Ne}from"@mdit/plugin-align";import{attrs as Fe}from"@mdit/plugin-attrs";import{figure as Ae}from"@mdit/plugin-figure";import{footnote as Le}from"@mdit/plugin-footnote";import{imgLazyload as ze}from"@mdit/plugin-img-lazyload";import{imgMark as Ue}from"@mdit/plugin-img-mark";import{imgSize as Ge,obsidianImageSize as Je}from"@mdit/plugin-img-size";import{include as Ve}from"@mdit/plugin-include";import{katex as We}from"@mdit/plugin-katex";import{mark as Be}from"@mdit/plugin-mark";import{createMathjaxInstance as qe,mathjax as He}from"@mdit/plugin-mathjax";import{stylize as Ye}from"@mdit/plugin-stylize";import{sub as Ke}from"@mdit/plugin-sub";import{sup as Qe}from"@mdit/plugin-sup";import{tasklist as Xe}from"@mdit/plugin-tasklist";import{getDirname as Ze,path as w,hash as et,colors as x,fs as q,logger as H}from"@vuepress/utils";import{useSassPalettePlugin as tt}from"vuepress-plugin-sass-palette";import{Logger as nt,ensureEndingSlash as ot,isPlainObject as j,isString as Y,fromEntries as A,entries as _,utoa as C,ensureLeadingSlash as K,keys as rt,endsWith as at,deepAssign as Q,isFunction as it,isArray as X,isRegExp as st,isAbsoluteUrl as Z,checkVersion as lt,getLocales as pt,detectPackageManager as ct,getBundlerName as mt,addViteSsrNoExternal as dt,addCustomElement as L,MATHML_TAGS as ee,addViteOptimizeDepsExclude as N,addViteSsrExternal as D,addViteOptimizeDepsInclude as te,addChainWebpack as ut}from"vuepress-shared/node";import{container as R}from"@mdit/plugin-container";import{resolveLocalePath as ne}from"@vuepress/shared";import{load as ft}from"js-yaml";import{tab as oe}from"@mdit/plugin-tab";import{uml as re}from"@mdit/plugin-uml";import{createRequire as gt}from"node:module";const ht=/\r\n?|\n/g,z=n=>JSON.stringify(n).replace(/'/g,"&#39"),yt=n=>n.replace(/&/gu,"&amp;").replace(/</gu,"&lt;").replace(/>/gu,"&gt;").replace(/"/gu,"&quot;").replace(/'/gu,"&#039;"),bt=Ze(import.meta.url),F="vuepress-plugin-md-enhance",k=new nt(F),$=ot(w.resolve(bt,"../client")),$t=["title","desc","logo","link","color"],vt=n=>j(n)&&Y(n.title)?A(_(n).filter(e=>$t.includes(e[0])&&Y(e[1]))):null,ae=(n,e,a,{filePathRelative:t})=>{const o=n[e],{content:r,info:i}=o,s=i.trim().split(":",2)[1]||"yml";let l=null;if(s==="yaml"||s==="yml")l=ft(r);else if(s==="json")try{l=JSON.parse(r)}catch{}if(!l)return k.error(`Can not parse card config ${s}${t?`, found in ${t}`:""}.`),"";const f=vt(l);return f?`<VPCard v-bind='${z(f)}' />`:(k.error(`Invalid card config${t?` found in ${t}`:""}:
${r}
`),"")},ie=n=>{const e=n.renderer.rules.fence;n.renderer.rules.fence=(...a)=>{const[t,o,r,i]=a,{info:s}=t[o];return s.split(":",2)[0]==="card"?ae(t,o,r,i):e(...a)},n.renderer.rules.card=ae},se=n=>{R(n,{name:"chart",openRender:(e,a)=>{const t=e[a].info.trimStart().slice(5).trim(),o=`chart-${a}`;let r="{}",i="";for(let s=a;s<e.length;s++){const{type:l,content:f,info:d}=e[s];if(l==="container_chart_close")break;f&&(l==="fence"&&(d==="json"?(r=C(f),i="json"):(d==="js"||d==="javascript")&&(r=C(f),i="js")),e[s].type="chart_empty",e[s].hidden=!0)}return`<ChartJS id="${o}" config="${r}" ${t?`title="${encodeURIComponent(t)}" `:""}type="${i}">`},closeRender:()=>"</ChartJS>"})},le={useBabel:!1,jsLib:[],cssLib:[],codepenLayout:"left",codepenEditors:"101",babel:"https://unpkg.com/@babel/standalone/babel.min.js",vue:"https://unpkg.com/vue/dist/vue.global.prod.js",react:"https://unpkg.com/react/umd/react.production.min.js",reactDOM:"https://unpkg.com/react-dom/umd/react-dom.production.min.js"},U=n=>e=>R(e,{name:n,openRender:(a,t)=>{var o;const r=a[t].info.trimStart().slice(n.length).trim();let i="";const s={};for(let l=t;l<a.length;l++){const{type:f,content:d,info:c}=a[l],b=c?((o=e.utils.unescapeAll(c).trim().match(/^([^ :[{]+)/))==null?void 0:o[1])||"text":"";if(f===`container_${n}_close`)break;d&&f==="fence"&&(b==="json"?i=C(d):s[b]=d)}return`
<CodeDemo id="code-demo-${t}" type="${n.split("-")[0]}"${r?` title="${encodeURIComponent(r)}"`:""}${i?` config="${i}"`:""} code="${C(JSON.stringify(s))}">
`},closeRender:()=>"</CodeDemo>"}),pe=U("normal-demo"),ce=U("vue-demo"),me=U("react-demo"),de=n=>{oe(n,{name:"code-tabs",tabsOpenRenderer:({active:e,data:a},t,o)=>{const{meta:r}=t[o],i=a.map(({title:s,id:l})=>({title:s,...l?{id:l}:{}}));return`<CodeTabs id="${o}" :data='${z(i)}'${e!==-1?` :active="${e}"`:""}${r.id?` tab-id="${r.id}"`:""}>
`},tabsCloseRenderer:()=>`</CodeTabs>
`,tabOpenRenderer:({index:e},a,t)=>{let o=!1;for(let r=t;r<a.length;r++){const{block:i,type:s}=a[r];if(i){if(s==="code-tabs_tab_close")break;if(s==="fence"&&!o){o=!0;continue}a[r].type="code_tab_empty",a[r].hidden=!0}}return`<template #tab${e}="{ title, value, isActive }">
`},tabCloseRenderer:()=>`</template>
`})},ue=(n,e)=>{const a=n[e],t=`echarts-${e}`,{content:o,info:r}=a,i=r.trim().split(":",2)[1];return`<ECharts id="${t}" config="${C(o)}"${i?` title="${encodeURIComponent(i)}"`:""}></ECharts>`},fe=n=>{const e=n.renderer.rules.fence;n.renderer.rules.fence=(...a)=>{const[t,o]=a,{info:r}=t[o];return r.split(":",2)[0]==="echarts"?ue(t,o):e(...a)},n.renderer.rules.echarts=ue,R(n,{name:"echarts",openRender:(a,t)=>{const o=a[t].info.trimStart().slice(7).trim(),r=`echarts-${t}`;let i="{}",s=!1;for(let l=t;l<a.length;l++){const{type:f,content:d,info:c}=a[l];if(f==="container_echarts_close")break;d&&(f==="fence"&&(c==="json"?i=d:(c==="js"||c==="javascript")&&(i=d,s=!0)),a[l].type="echarts_empty",a[l].hidden=!0)}return`<ECharts id="${r}" config="${C(i)}"${o?` title="${encodeURIComponent(o)}"`:""}${s?' type="js"':""}>`},closeRender:()=>"</ECharts>"})},ge=(n,e)=>{const a=n[e],t=`flowchart-${e}`,{content:o,info:r}=a;return`<FlowChart id="${t}" code="${C(o)}" preset="${r.trim().split(":",2)[1]||"vue"}"></FlowChart>`},he=n=>{const e=n.renderer.rules.fence;n.renderer.rules.fence=(...a)=>{const[t,o]=a,{info:r}=t[o],i=r.split(":",2)[0];return i==="flow"||i==="flowchart"?ge(t,o):e(...a)},n.renderer.rules.flowchart=ge},ye=(n,e={})=>{["info","note","tip","warning","danger"].forEach(a=>{n.use(R,{name:a,openRender:(t,o,r,i)=>{var s;let l=t[o].info.trim().slice(a.length).trim();if(!l){const{filePathRelative:f}=i,d=K(f??""),c=ne(e,d);l=(s=e[c])==null?void 0:s[a]}return`<div class="hint-container ${a}">
<p class="hint-container-title">${l||a}</p>
`},closeRender:()=>`</div>
`})}),n.use(a=>R(a,{name:"details",openRender:(t,o,r,i)=>{var s;let l=t[o].info.trim().slice(7).trim();if(!l){const{filePathRelative:f}=i,d=K(f??""),c=ne(e,d);l=(s=e[c])==null?void 0:s.details}return`<details class="hint-container details"><summary>${l||"Details"}</summary>
`},closeRender:()=>`</details>
`}))},be=(n,e)=>`<Mermaid id="mermaid-${e}" code="${C(n[e].content)}"></Mermaid>`,I=(n,e,a)=>`<Mermaid id="mermaid-${a}" code="${C(`${n}
${e.split(`
`).map(t=>t?`  ${t}`:"").join(`
`)}`)}"></Mermaid>`,$e=n=>{const e=n.renderer.rules.fence;n.renderer.rules.fence=(...a)=>{const[t,o]=a,{content:r,info:i}=t[o];return i.trim()==="mermaid"?be(...a):i.trim()==="sequence"?I("sequenceDiagram",r,o):i.trim()==="class"?I("classDiagram",r,o):i.trim()==="state"?I("stateDiagram-v2",r,o):i.trim()==="er"?I("erDiagram",r,o):i.trim()==="journey"?I("journey",r,o):i.trim()==="gantt"?I("gantt",r,o):i.trim()==="pie"?I("pie",r,o):i.trim()==="git-graph"?I("gitGraph",r,o):i.trim()==="c4c"?I("C4Context",r,o):i.trim()==="mindmap"?I("mindmap",r,o):i.trim()==="timeline"?I("timeline",r,o):e(...a)},n.renderer.rules.mermaid=be},ve="@",kt=["file","import","setting"],Ct=n=>(e,a,t,o)=>{let r=e.bMarks[a]+e.tShift[a],i=e.eMarks[a];if(e.src[r]!==":")return!1;let s=r+1;for(;s<=i&&e.src[s]===":";)s+=1;const l=s-r;if(l<3)return!1;const f=e.src.slice(r,s),d=e.src.slice(s,i),c=d.trimStart().split(" ",2)[0],b=d.trimStart().slice(n.length).trim();if(c.trim()!==n)return!1;if(o)return!0;let u=a,y=!1;for(;u<t&&(u+=1,r=e.bMarks[u]+e.tShift[u],i=e.eMarks[u],!(r<i&&e.sCount[u]<e.blkIndent));)if(e.src[r]===":"&&e.sCount[u]-e.blkIndent<4){for(s=r+1;s<=i&&e.src[s]===":";s++);if(s-r>=l&&(s=e.skipSpaces(s),s>=i)){y=!0;break}}const m=e.parentType,g=e.lineMax;e.parentType=`${n}`,e.lineMax=u-(y?1:0);const S=e.push(`${n}_open`,"template",1);S.markup=f,S.block=!0,S.info=b,S.map=[a,u-(y?1:0)],e.md.block.tokenize(e,a+1,u-(y?1:0));const M=e.push(`${n}_close`,"template",-1);return M.markup=e.src.slice(r,s),M.block=!0,e.parentType=m,e.lineMax=g,e.line=u+(y?1:0),!0},wt=n=>(e,a,t,o)=>{let r=e.bMarks[a]+e.tShift[a],i=e.eMarks[a];const s=`${ve}${n}`;if(e.src.charAt(r)!=="@")return!1;let l;for(l=0;l<s.length;l++)if(s[l]!==e.src[r+l])return!1;const f=e.src.slice(r,r+l),d=e.src.slice(r+l,i);if(o)return!0;let c=a,b=!1;for(;c<t&&(c+=1,r=e.bMarks[c]+e.tShift[c],i=e.eMarks[c],!(r<i&&e.sCount[c]<e.blkIndent));)if(e.src[r]===ve&&e.sCount[c]<=e.sCount[a]){let S=!0;for(l=0;l<s.length;l++)if(s[l]!==e.src[r+l]){S=!1;break}if(S){b=!0,c-=1;break}}const u=e.parentType,y=e.lineMax;e.parentType=`${n}`,e.lineMax=c;const m=e.push(`${n}_open`,"template",1);m.block=!0,m.markup=f,m.info=d.trim(),m.map=[a,c],e.md.block.tokenize(e,a+1,c);const g=e.push(`${n}_close`,"template",-1);return g.block=!0,g.markup="",e.parentType=u,e.lineMax=y,e.line=c+(b?1:0),!0},T=(n,{name:e="playground",component:a="Playground",propsGetter:t}={name:"playground",component:"Playground",propsGetter:o=>({key:o.key,title:o.title||"",files:encodeURIComponent(JSON.stringify(o.files)),settings:encodeURIComponent(JSON.stringify(o.settings||{}))})})=>{n.block.ruler.before("fence",`${e}`,Ct(e),{alt:["paragraph","reference","blockquote","list"]}),kt.forEach(o=>{n.block.ruler.__rules__.find(({name:r})=>r==="marker")||n.block.ruler.before("fence","tab",wt(o),{alt:["paragraph","reference","blockquote","list"]})}),n.renderer.rules[`${e}_open`]=(o,r)=>{const{info:i}=o[r],s={key:et(`playground${r}-${i}`),title:encodeURIComponent(i),settings:{},files:{}};let l=null,f=!1;for(let c=r;c<o.length;c++){const{block:b,type:u,info:y,content:m}=o[c];if(b){if(u===`${e}_close`)break;if(u===`${e}_open`)continue;if(u==="file_open"){if(!y)continue;l=y}else u==="import_open"&&(s.importMap=l=y||"import-map.json");if(u==="setting_open"&&(f=!0),u==="setting_close"&&(f=!1),u==="file_close"||u==="import_close"||u==="setting_close"||!m){o[c].type=`${e}_empty`,o[c].hidden=!0;continue}f?u==="fence"&&y==="json"&&(s.settings=JSON.parse(m.trim())):u==="fence"&&l&&(s.files[l]={ext:y,content:m}),o[c].type=`${e}_empty`,o[c].hidden=!0}}const d=t(s);return`<${a} ${_(d).map(([c,b])=>`${c}="${yt(b)}"`).join(" ")}>
`},n.renderer.rules[`${e}_close`]=()=>`</${a}>
`},jt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",Pt=(n,e,a)=>{if(n==null)return"";let t,o,r,i={},s={},l="",f="",d="",c=2,b=3,u=2,y=[],m=0,g=0;for(r=0;r<n.length;r+=1)if(l=n.charAt(r),Object.prototype.hasOwnProperty.call(i,l)||(i[l]=b++,s[l]=!0),f=d+l,Object.prototype.hasOwnProperty.call(i,f))d=f;else{if(Object.prototype.hasOwnProperty.call(s,d)){if(d.charCodeAt(0)<256){for(t=0;u>t;t++)m<<=1,g==e-1?(g=0,y.push(a(m)),m=0):g++;for(o=d.charCodeAt(0),t=0;8>t;t++)m=m<<1|1&o,g==e-1?(g=0,y.push(a(m)),m=0):g++,o>>=1}else{for(o=1,t=0;u>t;t++)m=m<<1|o,g==e-1?(g=0,y.push(a(m)),m=0):g++,o=0;for(o=d.charCodeAt(0),t=0;16>t;t++)m=m<<1|1&o,g==e-1?(g=0,y.push(a(m)),m=0):g++,o>>=1}c--,c==0&&(c=Math.pow(2,u),u++),delete s[d]}else for(o=i[d],t=0;u>t;t++)m=m<<1|1&o,g==e-1?(g=0,y.push(a(m)),m=0):g++,o>>=1;c--,c==0&&(c=Math.pow(2,u),u++),i[f]=b++,d=String(l)}if(d!==""){if(Object.prototype.hasOwnProperty.call(s,d)){if(d.charCodeAt(0)<256){for(t=0;u>t;t++)m<<=1,g==e-1?(g=0,y.push(a(m)),m=0):g++;for(o=d.charCodeAt(0),t=0;8>t;t++)m=m<<1|1&o,g==e-1?(g=0,y.push(a(m)),m=0):g++,o>>=1}else{for(o=1,t=0;u>t;t++)m=m<<1|o,g==e-1?(g=0,y.push(a(m)),m=0):g++,o=0;for(o=d.charCodeAt(0),t=0;16>t;t++)m=m<<1|1&o,g==e-1?(g=0,y.push(a(m)),m=0):g++,o>>=1}c--,c==0&&(c=Math.pow(2,u),u++),delete s[d]}else for(o=i[d],t=0;u>t;t++)m=m<<1|1&o,g==e-1?(g=0,y.push(a(m)),m=0):g++,o>>=1;c--,c==0&&(c=Math.pow(2,u),u++)}for(o=2,t=0;u>t;t++)m=m<<1|1&o,g==e-1?(g=0,y.push(a(m)),m=0):g++,o>>=1;for(;;){if(m<<=1,g==e-1){y.push(a(m));break}g++}return y.join("")},xt=n=>Pt(n,6,e=>jt.charAt(e)),It=[{name:"help",type:"boolean"},{name:"help",type:"boolean"},{name:"watch",type:"boolean"},{name:"preserveWatchOutput",type:"boolean"},{name:"listFiles",type:"boolean"},{name:"explainFiles",type:"boolean"},{name:"listEmittedFiles",type:"boolean"},{name:"pretty",type:"boolean"},{name:"traceResolution",type:"boolean"},{name:"diagnostics",type:"boolean"},{name:"extendedDiagnostics",type:"boolean"},{name:"generateCpuProfile",type:"string"},{name:"generateTrace",type:"string"},{name:"incremental",type:"boolean"},{name:"declaration",type:"boolean"},{name:"declarationMap",type:"boolean"},{name:"emitDeclarationOnly",type:"boolean"},{name:"sourceMap",type:"boolean"},{name:"inlineSourceMap",type:"boolean"},{name:"assumeChangesOnlyAffectDirectDependencies",type:"boolean"},{name:"locale",type:"string"},{name:"all",type:"boolean"},{name:"version",type:"boolean"},{name:"init",type:"boolean"},{name:"project",type:"string"},{name:"build",type:"boolean"},{name:"showConfig",type:"boolean"},{name:"listFilesOnly",type:"boolean"},{name:"target",type:{es3:0,es5:1,es6:2,es2015:2,es2016:3,es2017:4,es2018:5,es2019:6,es2020:7,es2021:8,es2022:9,esnext:99}},{name:"module",type:{none:0,commonjs:1,amd:2,system:4,umd:3,es6:5,es2015:5,es2020:6,es2022:7,esnext:99,node16:100,nodenext:199}},{name:"lib",type:"list"},{name:"allowJs",type:"boolean"},{name:"checkJs",type:"boolean"},{name:"jsx",type:{preserve:1,"react-native":3,react:2,"react-jsx":4,"react-jsxdev":5}},{name:"outFile",type:"string"},{name:"outDir",type:"string"},{name:"rootDir",type:"string"},{name:"composite",type:"boolean"},{name:"tsBuildInfoFile",type:"string"},{name:"removeComments",type:"boolean"},{name:"noEmit",type:"boolean"},{name:"importHelpers",type:"boolean"},{name:"importsNotUsedAsValues",type:{remove:0,preserve:1,error:2}},{name:"downlevelIteration",type:"boolean"},{name:"isolatedModules",type:"boolean"},{name:"verbatimModuleSyntax",type:"boolean"},{name:"strict",type:"boolean"},{name:"noImplicitAny",type:"boolean"},{name:"strictNullChecks",type:"boolean"},{name:"strictFunctionTypes",type:"boolean"},{name:"strictBindCallApply",type:"boolean"},{name:"strictPropertyInitialization",type:"boolean"},{name:"noImplicitThis",type:"boolean"},{name:"useUnknownInCatchVariables",type:"boolean"},{name:"alwaysStrict",type:"boolean"},{name:"noUnusedLocals",type:"boolean"},{name:"noUnusedParameters",type:"boolean"},{name:"exactOptionalPropertyTypes",type:"boolean"},{name:"noImplicitReturns",type:"boolean"},{name:"noFallthroughCasesInSwitch",type:"boolean"},{name:"noUncheckedIndexedAccess",type:"boolean"},{name:"noImplicitOverride",type:"boolean"},{name:"noPropertyAccessFromIndexSignature",type:"boolean"},{name:"moduleResolution",type:{node10:2,node:2,classic:1,node16:3,nodenext:99,bundler:100}},{name:"baseUrl",type:"string"},{name:"paths",type:"object"},{name:"rootDirs",type:"list"},{name:"typeRoots",type:"list"},{name:"types",type:"list"},{name:"allowSyntheticDefaultImports",type:"boolean"},{name:"esModuleInterop",type:"boolean"},{name:"preserveSymlinks",type:"boolean"},{name:"allowUmdGlobalAccess",type:"boolean"},{name:"moduleSuffixes",type:"list"},{name:"allowImportingTsExtensions",type:"boolean"},{name:"resolvePackageJsonExports",type:"boolean"},{name:"resolvePackageJsonImports",type:"boolean"},{name:"customConditions",type:"list"},{name:"sourceRoot",type:"string"},{name:"mapRoot",type:"string"},{name:"inlineSources",type:"boolean"},{name:"experimentalDecorators",type:"boolean"},{name:"emitDecoratorMetadata",type:"boolean"},{name:"jsxFactory",type:"string"},{name:"jsxFragmentFactory",type:"string"},{name:"jsxImportSource",type:"string"},{name:"resolveJsonModule",type:"boolean"},{name:"allowArbitraryExtensions",type:"boolean"},{name:"out",type:"string"},{name:"reactNamespace",type:"string"},{name:"skipDefaultLibCheck",type:"boolean"},{name:"charset",type:"string"},{name:"emitBOM",type:"boolean"},{name:"newLine",type:{crlf:0,lf:1}},{name:"noErrorTruncation",type:"boolean"},{name:"noLib",type:"boolean"},{name:"noResolve",type:"boolean"},{name:"stripInternal",type:"boolean"},{name:"disableSizeLimit",type:"boolean"},{name:"disableSourceOfProjectReferenceRedirect",type:"boolean"},{name:"disableSolutionSearching",type:"boolean"},{name:"disableReferencedProjectLoad",type:"boolean"},{name:"noImplicitUseStrict",type:"boolean"},{name:"noEmitHelpers",type:"boolean"},{name:"noEmitOnError",type:"boolean"},{name:"preserveConstEnums",type:"boolean"},{name:"declarationDir",type:"string"},{name:"skipLibCheck",type:"boolean"},{name:"allowUnusedLabels",type:"boolean"},{name:"allowUnreachableCode",type:"boolean"},{name:"suppressExcessPropertyErrors",type:"boolean"},{name:"suppressImplicitAnyIndexErrors",type:"boolean"},{name:"forceConsistentCasingInFileNames",type:"boolean"},{name:"maxNodeModuleJsDepth",type:"number"},{name:"noStrictGenericChecks",type:"boolean"},{name:"useDefineForClassFields",type:"boolean"},{name:"preserveValueImports",type:"boolean"},{name:"keyofStringsOnly",type:"boolean"},{name:"plugins",type:"list"},{name:"moduleDetection",type:{auto:2,legacy:1,force:3}},{name:"ignoreDeprecations",type:"string"}],ke=(n,e={})=>{const a=`#code/${xt(n)}`,t=_(e).map(([o,r])=>{const i=It.find(l=>l.name===o);if(!i||r===null||r===void 0)return"";const{type:s}=i;if(j(s)){const l=s[r];return(l==null?void 0:l.toString())||""}return`${o}=${encodeURIComponent(r)}`}).filter(o=>o.length).join("&");return`${t?`?${t}`:""}${a}`},Ce=({service:n="https://www.typescriptlang.org/play",...e}={})=>({name:"playground#ts",propsGetter:({title:a="",files:t,settings:o,key:r})=>{const i=rt(t).filter(l=>at(l,".ts"));i.length!==1&&k.error("TS playground only support 1 ts file");const s=`${n}${ke(t[i[0]].content,Q({},o||{},e))}`;return{key:r,title:a,link:encodeURIComponent(s)}}}),St=["html","js","ts","vue","jsx","tsx","json"],we="https://sfc.vuejs.org/vue.runtime.esm-browser.js",je="https://sfc.vuejs.org/server-renderer.esm-browser.js",Pe=(n={})=>({name:"playground#vue",propsGetter:e=>{const{title:a="",files:t,settings:o,key:r}=e,i={service:"https://sfc.vuejs.org/",dev:!1,ssr:!1,...n,...o},s=A(_(t).filter(([,{ext:l}])=>St.includes(l)).map(([l,{content:f}])=>{if(l==="import-map.json"){const d=JSON.parse(f);return[l,JSON.stringify(Q({imports:{vue:we,...i.ssr?{"vue/server-renderer":je}:{}}},d))]}return[l,f]}));return i.ssr&&!s["import-map.json"]&&(s["import-map.json"]=JSON.stringify({imports:{vue:we,"vue/server-renderer":je}},null,2)),{key:r,title:a,link:encodeURIComponent(`${i.service}#${i.dev?"__DEV__":""}${i.ssr?"__SSR__":""}${Buffer.from(JSON.stringify(s)).toString("base64")}`)}}}),xe=n=>{n.use(re,{name:"presentation",open:"slidestart",close:"slideend",render:(e,a)=>{const t=e[a],o=`presentation-${a}`,{content:r,info:i}=t;return`<Presentation id="${o}" code="${C(r)}" theme="${i.trim()||"auto"}"></Presentation>`}})},Ie=n=>{oe(n,{name:"tabs",tabsOpenRenderer:({active:e,data:a},t,o)=>{const{meta:r}=t[o],i=a.map(({title:s,id:l})=>({title:s,...l?{id:l}:{}}));return`<Tabs id="${o}" :data='${z(i)}'${e!==-1?` :active="${e}"`:""}${r.id?` tab-id="${r.id}"`:""}>
`},tabsCloseRenderer:()=>`</Tabs>
`,tabOpenRenderer:({index:e})=>`<template #tab${e}="{ title, value, isActive }">
`,tabCloseRenderer:()=>`</template>
`})},Se=n=>{R(n,{name:"v-pre",openRender:()=>`<div v-pre>
`,closeRender:()=>`</div>
`})},Rt=["html","js","ts","vue","jsx","tsx","json"],Ot=n=>Buffer.from(JSON.stringify(A(_(n).filter(([,{ext:e}])=>Rt.includes(e)).map(([e,a])=>[e,a.content])))).toString("base64"),Re=n=>{n.use(T,{name:"vue-playground",component:"VuePlayground",propsGetter:({title:e="",key:a,files:t,settings:o})=>({title:e,key:a,settings:encodeURIComponent(JSON.stringify(o||{})),files:encodeURIComponent(Ot(t))})})},Oe={"/en/":{info:"Info",note:"Note",tip:"Tips",warning:"Note",danger:"Warning",details:"Details"},"/zh/":{info:"相关信息",note:"注",tip:"提示",warning:"注意",danger:"警告",details:"详情"},"/zh-tw/":{info:"相關信息",note:"注",tip:"提示",warning:"注意",danger:"警告",details:"詳情"},"/de/":{info:"Information",note:"Notiz",tip:"Tips",warning:"Warnung",danger:"Gefahr",details:"Details"},"/de-at/":{info:"Information",note:"Note",tip:"Tips",warning:"Notiz",danger:"Warnung",details:"Details"},"/vi/":{info:"Thông tin",note:"Note",tip:"Tips",warning:"Lưu ý",danger:"Cẩn thận",details:"Chi tiết"},"/uk/":{info:"Інформація",note:"Note",tip:"Поради",warning:"Примітка",danger:"Увага",details:"Деталь"},"/ru/":{info:"Инфо",note:"Заметка",tip:"Совет",warning:"Примечание",danger:"Предупреждение",details:"Подробности"},"/br/":{info:"Informativo",note:"Note",tip:"Dicas",warning:"Avisos",danger:"Cuidado",details:"Detalhe"},"/pl/":{info:"Info",note:"Notatka",tip:"Porady",warning:"Notatka",danger:"Ostrzeżenie",details:"Dane"},"/sk/":{info:"Info",note:"Poznámka",tip:"Tip",warning:"Upozornenie",danger:"Pozor",details:"Podrobnosti"},"/fr/":{info:"Info",note:"Note",tip:"Conseil",warning:"Note",danger:"Avertissement",details:"Details"},"/es/":{info:"Información",note:"Nota",tip:"Consejos",warning:"Aviso",danger:"Advertencia",details:"Detalles"},"/ja/":{info:"関連情報",note:"注",tip:"ヒント",warning:"注意",danger:"警告",details:"詳細"},"/tr/":{info:"Bilgi",note:"Not",tip:"Tavsiye",warning:"Uyarı",danger:"Tehlike",details:"Detay"},"/ko/":{info:"정보",note:"노트",tip:"팁",warning:"경고",danger:"위험",details:"세부사항"},"/fi/":{info:"Tietoa",note:"Huomautus",tip:"Vinkki",warning:"Varoitus",danger:"Vaara",details:"Yksityiskohdat"},"/hu/":{info:"Információ",note:"Megjegyzés",tip:"Tipp",warning:"Figyelem",danger:"Veszély",details:"Részletek"},"/id/":{info:"Pemberitahuan",note:"Catatan",tip:"Tips",warning:"Penting",danger:"Peringatan",details:"Rincian"},"/nl/":{info:"Info",note:"Notitie",tip:"Tips",warning:"Notitie",danger:"Waarschuwing",details:"Details"}},O=({options:n,deprecatedOption:e,newOption:a,msg:t="",scope:o=""})=>{if(e in n){if(k.warn(`${x.magenta(e)} is ${x.yellow("deprecated")}${o?` in ${o}`:""}, please use "${x.magenta(a)}" instead.${t?`
${t}`:""}`),a.includes(".")){const r=a.split(".");let i=n;r.forEach((s,l)=>{l!==r.length-1?(i[s]=i[s]||{},i=i[s]):i[s]=n[e]})}else n[a]=n[e];delete n[e]}},G=(n,e,a="",t="")=>{e in n&&(k.error(`"${x.magenta(e)}" is ${x.red("removed")}${t?`, please use ${x.magenta(t)} instead.`:" and no longer supported"}${a?`
${a}`:""}`),t||delete n[e])},Dt=n=>{O({options:n,deprecatedOption:"codegroup",newOption:"codetabs"}),O({options:n,deprecatedOption:"lazyload",newOption:"imgLazyload"}),O({options:n,deprecatedOption:"imageLazyload",newOption:"imgLazyload"}),O({options:n,deprecatedOption:"imageMark",newOption:"imgMark"}),O({options:n,deprecatedOption:"imageSize",newOption:"imgSize"}),O({options:n,deprecatedOption:"mdImport",newOption:"include"}),O({options:n,deprecatedOption:"tex",newOption:"katex"}),O({options:n,deprecatedOption:"vpre",newOption:"vPre"}),O({options:n,deprecatedOption:"imageTitle",newOption:"figure"}),G(n,"enableAll"),G(n,"lineNumbers"),G(n,"imageFix"),"linkCheck"in n&&(k.warn(`${x.magenta("linkCheck")} is deprecated, please use ${x.magenta("checkLinks")} instead`),n.checkLinks={status:typeof n.linkCheck=="boolean"?n.linkCheck?"always":"never":n.linkCheck})},Mt=n=>{n.use(R,{name:"demo",openRender:(e,a)=>{var t;k.warn("demo container is deprecated, you should use normal-demo, react-demo and vue-demo container instead.");const{info:o}=e[a],r=/\[(.*)\]/u.exec(o),i=/^ demo\s*(?:\[.*?\])?\s*(.*)\s*$/u.exec(o);let s="";const l={};for(let f=a;f<e.length;f++){const{type:d,content:c,info:b}=e[f],u=b?((t=n.utils.unescapeAll(b).trim().match(/^([^ :[{]+)/))==null?void 0:t[1])||"text":"";if(d==="container_demo_close")break;c&&d==="fence"&&(u==="json"?s=C(c):l[u]=c)}return`
<CodeDemo id="code-demo-${a}" type="${(r==null?void 0:r[1])||"normal"}"${i?` title="${encodeURIComponent(i[1])}"`:""}${s?` config="${s}"`:""} code="${C(JSON.stringify(l))}">
`},closeRender:()=>"</CodeDemo>"})},Et=n=>{n.use(R,{name:"code-group",openRender:(e,a,t,o)=>(k.warn(`Deprecated code-group syntax found${o.filePathRelative?`in ${o.filePathRelative}`:""}, you should use code tabs instead. See https://plugin-md-enhance.vuejs.press/guide/code-tabs.html`),`<CodeGroup>
`),closeRender:()=>`</CodeGroup>
`}),n.use(R,{name:"code-group-item",openRender:(e,a)=>{const{info:t}=e[a],o=t.split(":").pop()==="active";return`<CodeGroupItem title="${o?t.replace(/:active$/,""):t}"${o?" active":""}>
`},closeRender:()=>`</CodeGroupItem>
`})},_t=[/^\/\/ ?#?((?:end)?region) ([\w*-]+)$/,/^\/\* ?#((?:end)?region) ([\w*-]+) ?\*\/$/,/^#pragma ((?:end)?region) ([\w*-]+)$/,/^<!-- #?((?:end)?region) ([\w*-]+) -->$/,/^#((?:End )Region) ([\w*-]+)$/,/^::#((?:end)region) ([\w*-]+)$/,/^# ?((?:end)?region) ([\w*-]+)$/],Tt=/^@include\(([^)]+(?:\.[a-z0-9]+))(?:#([\w-]+))?(?:\{(\d+)?-(\d+)?\})?\)$/,Nt=n=>{const e=n.split(`
`),a=e.reduce((t,o)=>{for(let r=0;r<o.length;r++)if(o[r]!==" "&&o[r]!=="	")return Math.min(r,t);return t},1/0);return a<1/0?e.map(t=>t.slice(a)).join(`
`):n},De=(n,e,a,t=!1)=>{const[o,r,i]=e.exec(n.trim())||[];return!!(o&&r&&i===a&&r.match(t?/^[Ee]nd ?[rR]egion$/:/^[rR]egion$/))},Ft=(n,e)=>{let a=null,t=-1;for(const[o,r]of n.entries())if(a===null){for(const i of _t)if(De(r,i,e)){t=o+1,a=i;break}}else if(De(r,a,e,!0))return{lineStart:t,lineEnd:o};return null},At=(n,{cwd:e,includedFiles:a,resolvedPath:t})=>{const{filePath:o}=n;let r=o;if(!w.isAbsolute(o)){if(!e)return k.error(`[include]: Error when resolving path: ${o}`),`
Error when resolving path
`;r=w.resolve(e,o)}if(a.push(r),!q.existsSync(r))return k.error(`Include: ${r} not found`),`
File not found
`;const i=q.readFileSync(r).toString().replace(ht,`
`).split(`
`);let s=[];if("region"in n){const l=Ft(i,n.region);l&&(s=i.slice(l.lineStart,l.lineEnd))}else{const{lineStart:l,lineEnd:f}=n;s=i.slice(l&&l-1,f)}if(t&&r.endsWith(".md")){const l=w.dirname(r);s.unshift(`@include-push(${l})`),s.push("@include-pop()")}return Nt(s.join(`
`).replace(/\n?$/,`
`))},Me=(n,e,{currentPath:a,cwd:t,includedFiles:o})=>n.split(`
`).map(r=>{if(r.startsWith("@include")){const i=r.match(Tt);if(i){k.warn(`"@include(file)" is deprecated, you should use "<!-- @include: file -->" instead.${a?`
 Found in ${a}.`:""}`);const[,s,l,f,d]=i,c=e.resolvePath(s,t),b=e.resolveImagePath||e.resolveLinkPath,u=At({filePath:c,...l?{region:l}:{lineStart:f?Number(f):0,lineEnd:d?Number(d):void 0}},{cwd:t,includedFiles:o,resolvedPath:b});return e.deep&&c.endsWith(".md")?Me(u,e,{cwd:w.isAbsolute(c)?w.dirname(c):t?w.resolve(t,w.dirname(c)):null,currentPath:a??"",includedFiles:o}):u}}return r}).join(`
`),Lt=n=>e=>{const a=e.env,t=a.includedFiles||(a.includedFiles=[]),o=n.currentPath(a);e.src=Me(e.src,n,{cwd:o?w.dirname(o):null,currentPath:o,includedFiles:t})},zt=(n,e)=>{const{currentPath:a,resolvePath:t=s=>s,deep:o=!1,resolveLinkPath:r=!0,resolveImagePath:i=!0}=e||{};if(typeof a!="function"){k.error('[include]: "currentPath" is required');return}n.core.ruler.after("normalize","md_legacy_import",Lt({currentPath:a,resolvePath:t,deep:o,resolveLinkPath:r,resolveImagePath:i}))},Ut=n=>{re(n,{name:"flowchart",open:"flowstart",close:"flowend",render:(e,a)=>{H.warn('"@flowstart ... @flowend" is deprecated, you should use ```flow ... ``` instead.');const t=e[a],o=`flowchart-${a}`,{content:r,info:i}=t;return`<FlowChart id="${o}" code="${C(r)}" preset="${i.trim()||"vue"}"></FlowChart>`}})},Gt=(n,e)=>{const{status:a="dev",ignore:t=[]}=e.checkLinks||{},o=it(t)?t:X(t)?r=>t.some(i=>st(i)?i.test(r):i===r):()=>!1;return{enabled:a==="always"||n.env.isDev&&a==="dev"||n.env.isBuild&&a==="build"||!1,isIgnoreLink:o}},Ee=(n,e,a)=>{const t=n.filePathRelative||n.path,{pages:o}=e,r=n.links.filter(({raw:s})=>s.match(/.md((?:\?|#).*)?$/)),i=[...r.filter(({raw:s})=>!Z(s)).filter(({relative:s})=>o.every(({filePathRelative:l})=>l!==decodeURI(s))&&!a(s,e.env.isDev)),...r.filter(({raw:s})=>Z(s)).filter(({absolute:s})=>o.every(({filePathRelative:l})=>!l||`${e.options.base}${l}`!==decodeURI(s)&&!a(s,e.env.isDev)))].map(({raw:s})=>s);i.length&&H.warn(`Broken links found in ${t}: ${i.join(", ")}`)},J=gt(import.meta.url),Jt=async(n,e,a=!0)=>{const t=[],o=[],r=(i,s=!1)=>i in e?!!e[i]:s&&"gfm"in e&&e.gfm||!1;return r("card")&&(t.push(`import VPCard from "${$}components/VPCard.js";`),o.push('app.component("VPCard", VPCard)')),r("chart")&&(t.push(`import ChartJS from "${$}components/ChartJS.js";`),o.push('app.component("ChartJS", ChartJS)')),r("codetabs")&&(t.push(`import CodeTabs from "${$}components/CodeTabs.js";`),o.push('app.component("CodeTabs", CodeTabs);'),a&&(t.push(`import { hasGlobalComponent } from "${w.resolve(J.resolve("vuepress-shared/client"))}";`,`import { CodeGroup, CodeGroupItem } from "${$}compact/index.js";`),o.push('if(!hasGlobalComponent("CodeGroup", app)) app.component("CodeGroup", CodeGroup);','if(!hasGlobalComponent("CodeGroupItem", app)) app.component("CodeGroupItem", CodeGroupItem);'))),r("container")&&t.push(`import "${$}styles/container/index.scss";`),r("demo")&&(t.push(`import CodeDemo from "${$}components/CodeDemo.js";`),o.push('app.component("CodeDemo", CodeDemo);')),r("echarts")&&(t.push(`import ECharts from "${$}components/ECharts.js";`),o.push('app.component("ECharts", ECharts);')),r("figure",!0)&&t.push(`import "${$}styles/figure.scss";`),r("flowchart")&&(t.push(`import FlowChart from "${$}components/FlowChart.js";`),o.push('app.component("FlowChart", FlowChart);')),r("footnote",!0)&&t.push(`import "${$}styles/footnote.scss";`),r("imgMark",!0)&&t.push(`import "${$}styles/image-mark.scss"`),r("mermaid")&&(t.push(`import Mermaid from "${$}components/Mermaid.js";`,`import { injectMermaidConfig } from "${$}/index.js";`),o.push("injectMermaidConfig(app);",'app.component("Mermaid", Mermaid);')),r("presentation")&&(t.push(`import "${w.resolve(J.resolve("reveal.js/dist/reveal.css"))}";`,`import Presentation from "${$}components/Presentation.js";`,`import { injectRevealConfig } from "${$}index.js";`),o.push("injectRevealConfig(app);",'app.component("Presentation", Presentation);')),r("playground")&&(t.push(`import Playground from "${$}components/Playground.js";`),o.push('app.component("Playground", Playground);')),r("tabs")&&(t.push(`import Tabs from "${$}components/Tabs.js";`),o.push('app.component("Tabs", Tabs);')),r("tasklist",!0)&&t.push(`import "${$}styles/tasklist.scss";`),r("katex")&&t.push(`import "${w.resolve(J.resolve("katex/dist/katex.min.css"))}";`,`import "${$}styles/katex.scss";`),r("vuePlayground")&&(t.push('import { defineAsyncComponent } from "vue";',`import { injectVuePlaygroundConfig } from "${$}index.js";`),o.push("injectVuePlaygroundConfig(app);",`app.component("VuePlayground", defineAsyncComponent(() => import("${$}components/VuePlayground.js")));`)),r("mathjax")&&t.push('import "./mathjax.css";'),n.writeTemp("md-enhance/config.js",`import { defineClientConfig } from "@vuepress/client";
${t.join(`
`)}

export default defineClientConfig({
  enhance: ({ app }) => {
${o.map(i=>`    ${i}`).join(`
`)}
  },
});
`)},Vt=`mjx-container {
  overflow-x: auto;
}
`,Wt=async(n,e)=>{await n.writeTemp("md-enhance/mathjax.css",`${e.outputStyle()}
${Vt}`)},Bt=async(n,e)=>{const a=["reveal","revealMarkdown",...e.map(t=>`reveal${t[0].toUpperCase()}${t.substring(1)}`)];await n.writeTemp("md-enhance/reveal.js",`import { ${a.join(", ")} } from "${$}index.js";

export const useReveal = () => [${a.map(t=>`${t}()`).join(", ")}];
`)},qt=(n={gfm:!0},e=!0)=>a=>{e&&Dt(n),lt(a,F,"2.0.0-beta.61"),a.env.isDebug&&k.info("Options:",n);const t=(p,h=!1)=>p in n?!!n[p]:h&&"gfm"in n&&n.gfm||!1,o=pt({app:a,name:F,default:Oe,config:n.locales}),r=t("chart"),i=t("echarts"),s=t("flowchart"),l=t("footnote",!0),f=t("imgMark",!0),d=t("include"),c=t("tasklist",!0),b=t("mermaid"),u=t("presentation"),y=t("katex"),m=t("mathjax"),g=t("vuePlayground"),{enabled:S,isIgnoreLink:M}=Gt(a,n),V={macros:{"\\liiiint":"\\int\\!\\!\\!\\iiint","\\iiiint":"\\int\\!\\!\\!\\!\\iiint","\\idotsint":"\\int\\!\\cdots\\!\\int"},logger:(p,h,v,{filePathRelative:P})=>{p!=="newLineInDisplayMode"&&(p==="unicodeTextInMathMode"?k.warn(`Found unicode character ${v.text} inside tex${P?` in ${x.cyan(P)}`:""}. You should use ${x.magenta(`\\text{${v.text}}`)}`):k.warn(`${h}.${P?`
Found in ${x.cyan(P)}`:""}`))},...j(n.katex)?n.katex:{}},E=n.mathjax===!1?null:qe(j(n.mathjax)?n.mathjax:{}),W=j(n.presentation)&&X(n.presentation.plugins)?n.presentation.plugins:[];tt(a,{id:"hope"});let B=!1;return{name:F,define:()=>({MARKDOWN_ENHANCE_DELAY:n.delay||800,CODE_DEMO_OPTIONS:{...le,...j(n.demo)?n.demo:{}}}),alias:p=>({"@mermaid":p.env.isDev&&ct()==="pnpm"&&mt(p)==="vite"?"mermaid/dist/mermaid.esm.min.mjs":"mermaid"}),extendsBundlerOptions:(p,h)=>{dt(p,h,["fflate","vuepress-shared"]),y&&V.output!=="html"?L(p,h,ee):m&&(L(p,h,/^mjx-/),E!=null&&E.documentOptions.enableAssistiveMml&&L(p,h,ee)),r&&(N(p,h,"chart.js/auto/auto.mjs"),D(p,h,"chart.js")),i&&(N(p,h,"echarts"),D(p,h,"echarts")),s&&(N(p,h,"flowchart.ts"),D(p,h,"flowchart.ts")),b&&(te(p,h,"mermaid"),D(p,h,"mermaid")),u&&(N(p,h,["reveal.js/dist/reveal.esm.js","reveal.js/plugin/markdown/markdown.esm.js",...W.map(v=>`reveal.js/plugin/${v}/${v}.esm.js`)]),D(p,h,"reveal.js")),g&&(te(p,h,"@vue/repl"),D(p,h,"@vue/repl"),ut(p,h,v=>{v.module.set("exprContextCritical",!1),v.module.set("unknownContextCritical",!1)}))},extendsMarkdown:p=>{if(t("gfm")&&(p.options.linkify=!0),t("attrs")&&p.use(Fe,j(n.attrs)?n.attrs:{}),t("align")&&p.use(Ne),t("container")&&p.use(ye,o),t("imgLazyload")&&p.use(ze),t("figure")&&p.use(Ae),f&&p.use(Ue,j(n.imgMark)?n.imgMark:{}),t("imgSize")&&p.use(Ge),t("obsidianImgSize")&&p.use(Je),t("sup")&&p.use(Qe),t("sub")&&p.use(Ke),l&&p.use(Le),t("mark")&&p.use(Be),c&&p.use(Xe,[j(n.tasklist)?n.tasklist:{}]),(t("vPre")||e)&&p.use(Se),y?p.use(We,V):m&&(p.use(He,E),p.use(h=>{const v=h.render.bind(h);h.render=(P,_e)=>{const Te=v(P,_e);return E.reset(),Te}})),d&&(p.use(Ve,{currentPath:h=>h.filePath,...j(n.include)?n.include:{}}),e&&p.use(zt,{currentPath:h=>h.filePath})),t("stylize")&&p.use(Ye,{config:n.stylize,localConfigGetter:h=>{var v;return((v=h.frontmatter)==null?void 0:v.stylize)||null}}),t("card")&&p.use(ie),t("codetabs")&&(p.use(de),e&&p.use(Et)),t("tabs")&&p.use(Ie),s&&(p.use(he),e&&p.use(Ut)),r&&p.use(se),i&&p.use(fe),t("demo")&&(p.use(pe),p.use(ce),p.use(me),e&&p.use(Mt)),b&&p.use($e),u&&p.use(xe),j(n.playground)){const{presets:h=[],config:v={}}=n.playground;h.forEach(P=>{P==="ts"?p.use(T,Ce(v.ts||{})):P==="vue"?p.use(T,Pe(v.vue||{})):j(P)&&p.use(T,P)})}g&&p.use(Re)},extendsPage:(p,h)=>{S&&B&&Ee(p,h,M),d&&p.deps.push(...p.markdownEnv.includedFiles)},onInitialized:p=>{B=!0,S&&p.pages.forEach(h=>Ee(h,p,M))},onPrepared:p=>Promise.all([m?Wt(p,E):Promise.resolve(),Bt(p,W)]).then(()=>{}),clientConfigFile:p=>Jt(p,n,e)}};export{le as CODE_DEMO_DEFAULT_SETTING,ie as card,se as chart,de as codeTabs,fe as echarts,he as flowchart,Ce as getTSPlaygroundPreset,ke as getURL,Pe as getVuePlaygroundPreset,ye as hint,Oe as markdownEnhanceLocales,qt as mdEnhancePlugin,$e as mermaid,pe as normalDemo,T as playground,xe as presentation,me as reactDemo,Ie as tabs,Se as vPre,ce as vueDemo,Re as vuePlayground};
//# sourceMappingURL=index.js.map
