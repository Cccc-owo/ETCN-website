import{useStorage as p}from"@vueuse/core";import{defineComponent as m,ref as y,shallowRef as I,onMounted as g,watch as h,h as d}from"vue";import"../styles/tabs.scss";const n=p("VUEPRESS_TAB_STORE",{});var A=m({name:"Tabs",props:{active:{type:Number,default:0},data:{type:Array,required:!0},id:{type:String,required:!0},tabId:{type:String,default:""}},slots:Object,setup(t,{slots:v}){const l=y(t.active),u=I([]),o=()=>{t.tabId&&(n.value[t.tabId]=t.data[l.value].id)},s=(a=l.value)=>{l.value=a<u.value.length-1?a+1:0,u.value[l.value].focus()},c=(a=l.value)=>{l.value=a>0?a-1:u.value.length-1,u.value[l.value].focus()},b=(a,e)=>{a.key===" "||a.key==="Enter"?(a.preventDefault(),l.value=e):a.key==="ArrowRight"?(a.preventDefault(),s()):a.key==="ArrowLeft"&&(a.preventDefault(),c()),o()},f=()=>{if(t.tabId){const a=t.data.findIndex(({id:e})=>n.value[t.tabId]===e);if(a!==-1)return a}return t.active};return g(()=>{l.value=f(),h(()=>n.value[t.tabId],(a,e)=>{if(t.tabId&&a!==e){const i=t.data.findIndex(({id:r})=>r===a);i!==-1&&(l.value=i)}})}),()=>t.data.length?d("div",{class:"tab-list"},[d("div",{class:"tab-list-nav",role:"tablist"},t.data.map(({id:a},e)=>{const i=e===l.value;return d("button",{type:"button",ref:r=>{r&&(u.value[e]=r)},class:["tab-list-nav-item",{active:i}],role:"tab","aria-controls":`tab-${t.id}-${e}`,"aria-selected":i,onClick:()=>{l.value=e,o()},onKeydown:r=>b(r,e)},v[`title${e}`]({value:a,isActive:i}))})),t.data.map(({id:a},e)=>{const i=e===l.value;return d("div",{class:["tab-item",{active:i}],id:`tab-${t.id}-${e}`,role:"tabpanel","aria-expanded":i},v[`tab${e}`]({value:a,isActive:i}))})]):null}});export{A as default};
//# sourceMappingURL=Tabs.js.map
